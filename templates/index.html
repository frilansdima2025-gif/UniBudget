<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>UniBudget ‚Äî –û–±–ª—ñ–∫ –≤–∏—Ç—Ä–∞—Ç –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤</title>

    <!-- –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <button style="padding:10px 20px; margin:20px; background:#4caf50; color:white; border:none; border-radius:8px;">
    Test Button
</button>
<div class="page">
<div class="theme-toggle">
  <button id="theme-btn">üåì–¢–µ–º–Ω–∏–π —Ä–µ–∂–∏–º</button>
</div>
    <!-- –í–µ—Ä—Ö–Ω—ñ–π –±–∞–Ω–µ—Ä –∑ –∫–∞—Ä—Ç–∏–Ω–∫–æ—é -->
    <header class="hero">
        <div class="hero__overlay"></div>
        <img class="hero__image"
             src="{{ url_for('static', filename='img/hero_budget.jpg') }}"
             alt="–°—Ç—É–¥–µ–Ω—Ç—Å—å–∫–∏–π –±—é–¥–∂–µ—Ç">
        <div class="hero__content">
            <h1>UniBudget</h1>
            <p>–û–±–ª—ñ–∫ –≤–∏—Ç—Ä–∞—Ç –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤</p>
        </div>
    </header>

    <!-- –§–æ—Ä–º–∞ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –≤–∏—Ç—Ä–∞—Ç–∏ -->
    <section class="form-section">
        <h3>–î–æ–¥–∞—Ç–∏ –≤–∏—Ç—Ä–∞—Ç—É</h3>

        <form id="add-expense-form"
              action="{{ url_for('add_expense') }}"
              method="post"
              class="expense-form">

            <div class="form-row">
                <label for="category-input">–ö–∞—Ç–µ–≥–æ—Ä—ñ—è</label>
                <input
                    id="category-input"
                    type="text"
                    name="category"
                    placeholder="–á–∂–∞, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç, –Ω–∞–≤—á–∞–Ω–Ω—è..."
                    required>
            </div>

            <div class="form-row">
                <label for="amount-input">–°—É–º–∞, –≥—Ä–Ω</label>
                <input
                    id="amount-input"
                    type="number"
                    step="0.01"
                    name="amount"
                    placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥, 150.00"
                    required>
            </div>

            <div class="form-row">
                <label for="description-input">–û–ø–∏—Å (–Ω–µ–æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–æ)</label>
                <input
                    id="description-input"
                    type="text"
                    name="description"
                    placeholder="–ö–∞–≤–∞, –ø—Ä–æ—ó–∑–¥, –∑–æ—à–∏—Ç —Ç–æ—â–æ">
            </div>

            <button type="submit" class="primary-btn">–î–æ–¥–∞—Ç–∏</button>
        </form>
    </section>

    <!-- –ü—ñ–¥—Å—É–º–æ–∫ -->
    <section class="summary">
  <p>
    <strong>–ó–∞–≥–∞–ª—å–Ω–∞ —Å—É–º–∞ –≤–∏—Ç—Ä–∞—Ç:</strong>
    <span id="total-amount" data-total="{{ total | default(0) }}">
      {{ "%.2f"|format(total or 0) }}
    </span> –≥—Ä–Ω
  </p>

  <!-- –î–æ–¥–∞—î–º–æ –ø—Ä–æ—Å—Ç–æ –≤ —Ü—é –∂ —Å–µ–∫—Ü—ñ—é -->
  <div id="preview-box" class="preview-box" style="display: none;">
    –ü—ñ—Å–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –±—É–¥–µ: <strong id="preview-amount"></strong> –≥—Ä–Ω
  </div>
</section>
    

    <!-- –°–ø–∏—Å–æ–∫ –≤–∏—Ç—Ä–∞—Ç + —Å—Ç–∞–Ω -->
    <section class="list-section">
        <h3>–°–ø–∏—Å–æ–∫ –≤–∏—Ç—Ä–∞—Ç</h3>

        {% if expenses %}
            <!-- –¢–∞–±–ª–∏—Ü—è –≤–∏—Ç—Ä–∞—Ç -->
            <table>
                <thead>
                <tr>
                    <th>–î–∞—Ç–∞</th>
                    <th>–ö–∞—Ç–µ–≥–æ—Ä—ñ—è</th>
                    <th>–°—É–º–∞, –≥—Ä–Ω</th>
                    <th>–û–ø–∏—Å</th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                {% for exp in expenses %}
                    <tr>
                        <td>{{ exp["date"] }}</td>
                        <td>{{ exp["category"] }}</td>
                        <td>{{ "%.2f"|format(exp["amount"]) }}</td>
                        <td>{{ exp["description"] or "" }}</td>
                        <td>
                            <form method="post"
                                  action="{{ url_for('delete_expense', expense_id=exp['id']) }}">
                                <button type="submit">‚úñ</button>
                            </form>
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>

            <!-- –ö–∞—Ä—Ç–∏–Ω–∫–∞, –∫–æ–ª–∏ –≤–∏—Ç—Ä–∞—Ç–∏ –≤–∂–µ —î -->
            <div class="empty-state">
                <img src="{{ url_for('static', filename='img/all_set.png') }}"
                     alt="–í–∏—Ç—Ä–∞—Ç–∏ –¥–æ–¥–∞–Ω–æ">
                <p>–í—Å—ñ –≤–∏—Ç—Ä–∞—Ç–∏ –¥–æ–¥–∞–Ω–æ! üëè –ú–æ–∂–µ—à –ø—Ä–æ–¥–æ–≤–∂—É–≤–∞—Ç–∏ –≤–µ—Å—Ç–∏ –æ–±–ª—ñ–∫.</p>
            </div>

        {% else %}
            <!-- –ö–∞—Ä—Ç–∏–Ω–∫–∞, –∫–æ–ª–∏ –Ω–µ–º–∞—î –≤–∏—Ç—Ä–∞—Ç -->
            <div class="empty-state">
                <img src="{{ url_for('static', filename='img/empty_state.png') }}"
                     alt="–ù–µ–º–∞—î –≤–∏—Ç—Ä–∞—Ç">
                <p>–ü–æ–∫–∏ —â–æ –Ω–µ–º–∞—î –≤–∏—Ç—Ä–∞—Ç. –î–æ–¥–∞–π –ø–µ—Ä—à—É –≤–∏—â–µ üëá</p>
            </div>
        {% endif %}
    </section>

</div>

<!-- –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è JS -->
<script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
